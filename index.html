<!doctypehtml><html><head><title>Page Sandbox</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><style>body{padding:0 .5em}.box{margin-top:1em}#txtURL{width:100%;height:2em;text-indent:.5em;padding:.25em 0}#btnGo{width:100%;font-size:1.5em}#list a{margin:1em}</style></head><body><div class=box><input id=txtURL value=www.google.com autofocus></div><div class=box><button id=btnGo disabled=disabled>初始化中...</button></div><div class=box><span>切换线路:</span> <select id=selNode disabled=disabled><option value=aliyun-hk>轻量云-香港（直连）</option><option value=aliyun-sg>轻量云-新加坡（直连）</option><option value=bwh-los>搬瓦工-洛杉矶（直连）</option></select></div><div class=box id=list></div><script>var c=100,i=103,r=200,o=navigator.serviceWorker;function a(){return location.href.replace(/[^/]+$/,"/")}function t(){selNode.disabled=!1,o.addEventListener("message",function(e){var t=e.data,n=t[0],o=t[1];switch(n){case i:selNode.querySelector("*[value="+o+"]").selected=!0;break;case r:s(c),(new Image).src="https://www.google.com/favicon.ico"}})}function n(e){txtURL.value=e}function s(e,t){var n=o.controller;n?n.postMessage([e,t]):console.log("ctl is null")}btnGo.onclick=function(){var e=txtURL.value.trim();0<=e.indexOf("-----")&&(e=e.split("-----").pop(),txtURL.value=e),function n(e){var t=document.createElement("a");t.rel="noopener",t.href=e,t.click()}(function t(e){return a()+"-----"+e}(function o(e){return/^https?:\/\//i.test(e)?e:/\.(com|cn|net|org|tv)$/.test(e)?"https://"+e:"https://www.google.com/search?q="+encodeURIComponent(e)}(e)))},txtURL.onkeypress=function(e){13===e.keyCode&&btnGo.onclick()},txtURL.setSelectionRange(0,txtURL.value.length),selNode.onchange=function(){s(102,this.options[this.selectedIndex].value)};var e=[["google",""],["youtube",""],["twitch","www.twitch.tv"],["wiki","zh.wikipedia.org"]];window.onload=function(){list.innerHTML=e.map(function(e){var t=e[0];return"<a rel=noopener href=/-----https://"+(e[1]||"www."+t+".com")+"><img width=128 height=128 src=ico/"+t+".png></a>"}).join("")},function l(){console.log("JsProxy v0.0.1 https://github.com/EtherDream/jsproxy/"),self.isSecureContext?o&&self.ReadableStream?(btnGo.disabled=!1,btnGo.textContent="Go",o.getRegistration().then(function(e){e?(t(),s(c)):o.register(a()+"x.js").then(t)["catch"](n)})):txtURL.value="浏览器版本过低，推荐使用最新版 Chrome 浏览器":txtURL.value="本程序需要 HTTPS 站点"}()</script></body></html>